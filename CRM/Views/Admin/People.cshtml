<div class="people-container">
    <div class="people-controls">
        <button class="btn-add-person btn btn--primary">Dodaj</button>
    </div>
    <div class="people-list">
        <div class="people-row row-header">
            <div class="row-username">
                Nazwa użytkownika
    </div>
            <div class="row-firstname">
                Imię
</div>
            <div class="row-lastname">
                Nazwisko
            </div>
            <div class="row-role">
                Rola
            </div>
        </div>
    </div>
</div>

@section Styles
{
    <link rel="stylesheet" href="~/css/People.css" />
}

@section Scripts 
{
    <script>
         fetch("/people")
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                data.forEach(person => {
                    const p = document.createElement("p");
                    p.innerHTML = person.username + " " + person.firstName + " " + person.lastName;
                    document.querySelector(".people-list").appendChild(p);
                })
            })
            .catch(error => {
                console.error('Fetch error:', error);
            });
    </script>
}